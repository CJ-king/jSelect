/**
 * Created on : Fri Apr 22 2016 19:01:14 GMT+0800 (CST)
 * Author     : jinchangjiang
 */
!function(t){t.fn.jSelect=function(i){function e(){for(var t=c[0].attributes,i=0;i<t.length;i++)"name"!=t[i].name&&s.attr(t[i].name,c.attr(t[i].name));h.attr("name",c.attr("name")),c.after(h),c.replaceWith(s),a()}function a(){t.each(c.find("option"),function(e,a){var n=t(a).html().replace(/\s/g,"").replace(t(a).val()+"-","");d+='<li val="'+t(a).val()+'" name="'+n+'" class="item">',d+=i.isShowVal?'<div class="val">'+t(a).val()+'</div><div class="text">'+n+"</div>":'<div class="noVText">'+n+"</div>",d+="</li>"}),d+="</ul></div>",t(document.body).append(d),t("#"+o).height(t(window).height()),t("#"+o).width("100%"),t("#"+o+" .container").height(t(window).height()-50)}function n(){s.focus(function(){t("#"+o).show()}),t("#"+o).delegate("li","click",function(){h.val(t(this).attr("val")),s.val((i.isShowVal?t(this).attr("val")+"-":"")+t(this).attr("name")),t("#"+o).hide()}),t("#"+o).click(function(){t("#"+o).hide()}),t("#"+o).find("ul li").hover(function(){t(this).css({"background-color":"#e5e5e5"})},function(){t(this).css({"background-color":""})}),h.val(c.val()),s.val((i.isShowVal?c.val()+"-":"")+c.find("option:selected").text())}function l(){e(),n()}i=t.extend({isShowVal:!1},i);var c=t(this),o=(new Date).getTime().toString(36),s=t('<input type="text"  value="" >'),h=t('<input type="hidden"  value="">'),d='<div id="'+o+'" class="jSelect"><ul class="container">';l()}}(jQuery);