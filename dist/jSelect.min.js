/**
 * Created on : Wed Apr 20 2016 20:18:09 GMT+0800 (CST)
 * Author     : jinchangjiang
 */
!function(e){e.fn.jSelect=function(t){function i(){for(var e=a[0].attributes,t=0;t<e.length;t++)"name"!=e[t].name&&h.attr(e[t].name,a.attr(e[t].name));d.attr("name",a.attr("name")),a.after(d),a.replaceWith(h),o()}function o(){e.each(a.find("option"),function(i,o){var n=e(o).html().replace(/\s/g,"").replace(e(o).val()+"-","");s+='<li val="'+e(o).val()+'" name="'+n+'" class="item">',s+=t.isShowVal?'<div class="val">'+e(o).val()+'</div><div class="text">'+n+"</div>":'<div class="noVText">'+n+"</div>",s+="</li>"}),s+="</ul></div>",e(document.body).append(s),e("#"+c).height(e(window).height()),e("#"+c).width("100%"),e("#"+c+" .container").height(e(window).height()-50)}function n(){h.focus(function(){e("#"+c).show()}),e("#"+c).delegate("li","click",function(){d.val(e(this).attr("val")),h.val((t.isShowVal?e(this).attr("val")+"-":"")+e(this).attr("name")),e("#"+c).hide()}),e("#"+c).click(function(){e("#"+c).hide()}),e("#"+c).find("ul li").hover(function(){e(this).css({"background-color":"#e5e5e5"})},function(){e(this).css({"background-color":""})}),d.val(a.val()),h.val((t.isShowVal?a.val()+"-":"")+a.find("option:selected").text())}function l(){e("head").append(r),i(),n()}t=e.extend({isShowVal:!1},t);var a=e(this),c=(new Date).getTime().toString(36),r='<style type="text/css">html{_overflow:hidden}body{margin:0;padding:0;_overflow:auto;_height:100%}ul,li{margin:0;padding:0;}.jSelect{left:0px;position:fixed;top:0px;height:100%;width:100%;color:#000;*color:#b52007;background:rgba(0,0,0,0.3);background-color:#000\x00;_position:absolute;*background:#000;filter:alpha(opacity=60);display:none;}.jSelect .container{position:absolute;top:20px;left:50%;margin-left:-305px;width:615px;height:80px;background-color:#ffffff;overflow-x:hidden;overflow-y:auto;}.jSelect .container .item{border:1px solid rgb(229,229,229);list-style:none;cursor:default;margin:1px;width:194px;height:40px;text-align:center;display:inline-block;float:left;}.jSelect .container .item .val{height:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.jSelect .container .item .text{height:20px;line-height:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.jSelect .container .item .noVText{height:40px;line-height:40px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}</style>',h=e('<input type="text"  value="" >'),d=e('<input type="hidden"  value="">'),s='<div id="'+c+'" class="jSelect"><ul class="container">';l()}}(jQuery);